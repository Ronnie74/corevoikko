# Suomi-malaga, suomen kielen muoto-opin kuvaus.
#
# Tekijänoikeus © 2006-2007 Hannu Väisänen (Etunimi.Sukunimi@joensuu.fi)
#
# Tämä ohjelma on vapaa; tätä ohjelmaa on sallittu levittää
# edelleen ja muuttaa GNU yleisen lisenssin (GPL lisenssin)
# ehtojen mukaan sellaisina kuin Free Software Foundation
# on ne julkaissut; joko Lisenssin version 2, tai (valinnan
# mukaan) minkä tahansa myöhemmän version mukaisesti.
#
# Tätä ohjelmaa levitetään siinä toivossa, että se olisi
# hyödyllinen, mutta ilman mitään takuuta; ilman edes
# hiljaista takuuta kaupallisesti hyväksyttävästä laadusta tai
# soveltuvuudesta tiettyyn tarkoitukseen. Katso GPL
# lisenssistä lisää yksityiskohtia.
#
# Tämän ohjelman mukana pitäisi tulla kopio GPL
# lisenssistä; jos näin ei ole, kirjoita osoitteeseen Free
# Software Foundation Inc., 59 Temple Place - Suite 330,
# Boston, MA 02111-1307, USA.
#
# Tämän ohjeman linkittäminen staattisesti tai dynaamisesti
# muihin moduuleihin on ohjelmaan perustuvan teoksen
# tekemistä, joka on siis GPL lisenssin ehtojen alainen.
#
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2, or (at your option)
# any later version.
#
# This program is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; see the file COPYING.  If not, write to the
# Free Software Foundation, Inc., 59 Temple Place -  Suite 330, Boston, MA
# 02111-1307 USA.
#
# Linking this program statically or dynamically with other modules is
# making a combined work based on this program.  Thus, the terms and
# conditions of the GNU General Public License cover the whole
# combination.


# Tämä tiedosto on tehty ohjelmalla generoi.sh --- älä muuta!


include "suomi.inc";


# Vain ne aksenttimerkit, jotka ovat ISO-8859-15:ssä, paitsi š ja ž.
# Merkit ovat ISO-8859-15:n mukaisessa järjestyksessä.
#
define @aksenttimerkki := "ŸÀÁÂÃÇÈÉÊËÌÍÎÏÐÑÒÓÔÙÚÛÝàáâãçèéêëìíîïðñòóôùúûýÿ";
define @korvausmerkki  := "YAAAACEEEEIIIIDNOOOUUUYaaaaceeeeiiiidnooouuuyy";


allo_rule generate_allos ($tietue1):
  define $malli := switch (malli);  # Katso tiedosto suomi-*.pro.


##define $aa := transmit (<"a"> + <$tietue1.perusmuoto> + <$tietue1.alku> + <$tietue1.äs>);
#define $ö := transmit ("[perusmuoto: §" + $tietue1.perusmuoto + "§" +
#                       ", alku: §"      + $tietue1.alku + "§" +
#                       ", luokka: "     + value_string ($tietue1.luokka) +
#                       ", jatko: "      + value_string ($tietue1.jatko) +
#                       ", äs: "         + value_string ($tietue1.äs) +
#                       "];");

#define $a := transmit ($tietue1);
#if ($tietue1.perusmuoto /= nil) then
#  define $b := transmit ("Tavutus2 " + $tietue1.perusmuoto + " " + tavutus($tietue1.perusmuoto));
#end;

  assert (value_type($tietue1) = record);

  define $tietuelista := <$tietue1>;


  if ($malli = sukija) then
#    define $tavujen_lkm := tavujen_määrä ($tietue1.perusmuoto);

    # Nämä sanat voivat olla myös erillisinä sanoina.
    #
    if (($tietue1.tiedot /= nil) and (ysj in $tietue1.tiedot) and
        (($tietue1.perusmuoto /= nil) and
        (($tietue1.perusmuoto = "vuotias") and ($tietue1.luokka = nimi_laatusana)))) then
      $tietue1.tiedot :=- <ysj>;
      $tietuelista := <$tietue1>;
    end;

    # Mielinen yms ovat sanastossa.
    #
    if (($tietue1.perusmuoto /= nil) and ($tietue1.perusmuoto in <"mieli">)) then
      if ($tietue1.tiedot = nil) then
        $tietue1 :=+ [tiedot: <ei_inen>];
      else
        $tietue1.tiedot :=+ <ei_inen>;
      end;
      $tietue1.tiedot :=- <ysj>;
      $tietuelista := <$tietue1>;
    end;

    if ($tietue1.luokka = etuliite) then
      $tietue1.jatko := set ($tietue1.jatko);
      $tietuelista := <$tietue1>;
    end;
  end;


  choose $tietue in $tietuelista;

#define $a := transmit ($tietue);

  if (($malli = voikko) and ($tietue.tiedot /= nil) and
      ((latex in $tietue.tiedot) or
       (murre in $tietue.tiedot) or
       (ei_voikko in $tietue.tiedot))) then
    stop;

  elseif (($malli = sukija) and ($tietue.tiedot /= nil) and
          (ei_sukija in $tietue.tiedot)) then
    stop;

#####################################################################
##=================================================================##
#####################################################################

